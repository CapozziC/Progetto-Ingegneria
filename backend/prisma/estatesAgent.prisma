model Agent {
  id        Int      @id @default(autoincrement())
  firstName       String
  lastName        String
  username        String   @unique
  password        String
  appointmentDate DateTime @default(now())
  phoneNumber     String?
  isAdmin         Boolean  @default(false)
  administratorId Int? //FK
  agencyId        Int  //FK
  
  

  // belongs to agency
  agency     RealEstateAgency @relation(fields: [agencyId], references: [id], onDelete: Cascade)
 // self-relation: appointed by another agent (admin)
  administrator    Agent?   @relation(name: "AgentAdministrator", fields: [administratorId], references: [id], onDelete: SetNull)
  agents          Agent[]   @relation(name: "AgentAdministrator")
  // relations
  advertisements  Advertisement[]
  appointments    Appointment[]
  offers          Offer[]

  @@index([agencyId])
  @@index([administratorId])
  @@map("agent")
}
  