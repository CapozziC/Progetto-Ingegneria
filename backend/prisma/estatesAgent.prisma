model Agent {
  id_agent        Int      @id @default(autoincrement())
  firstName       String
  lastName        String
  username        String   @unique
  password        String
  appointmentDate DateTime @default(now())
  phoneNumber     String?
  isAdmin         Boolean  @default(false)
  id_administrator Int
  
  

  // belongs to agency
  id_agency       Int
  agency          RealEstateAgency @relation(fields: [id_agency], references: [id_agency], onDelete: Restrict)

  // self-relation: appointed by another agent (admin)
 
  appointedBy     Agent    @relation("AgentAppointment", fields: [id_administrator], references: [id_agent], onDelete: Restrict)
  appointedAgents Agent[]  @relation("AgentAppointment")

  advertisements  Advertisement[]
  appointments    Appointment[]
  offers          Offer[]

  @@index([id_agency])
  @@index([id_administrator])
  @@map("agent")
}
  