enum AppointmentStatus {
  REQUESTED
  CONFIRMED
  CANCELLED
  COMPLETED
}

model Appointment {
  id_appointment   Int               @id @default(autoincrement())
  date          DateTime?
  time          DateTime?
  status        AppointmentStatus @default(REQUESTED)
  // Relations
  id_advertisement    Int
  advertisement       Advertisement           @relation(fields: [id_advertisement], references: [id_advertisement], onDelete: Cascade)

  id_agent       Int
  agent         Agent             @relation(fields: [id_agent], references: [id_agent], onDelete: Restrict)

  id_user        Int
  user          User              @relation(fields: [id_user], references: [id_user], onDelete: Cascade)

  @@index([id_advertisement])
  @@index([id_agent])
  @@index([id_user])
  @@map("appointment")
}