enum AppointmentStatus {
  REQUESTED
  CONFIRMED
  CANCELLED
  COMPLETED
}

model Appointment {
  id   Int               @id @default(autoincrement())
  date          DateTime?
  time          DateTime?
  status        AppointmentStatus @default(REQUESTED)
  // Relations
  advertisementId    Int
  advertisement       Advertisement           @relation(fields: [advertisementId], references: [id], onDelete: Cascade)

  agentId       Int
  agent         Agent             @relation(fields: [agentId], references: [id], onDelete: Restrict)

  userId        Int
  user          User              @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([advertisementId])
  @@index([agentId])
  @@index([userId])
  @@map("appointment")
}